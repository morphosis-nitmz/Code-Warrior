{% extends 'base.html' %} {% block base_head %}
<title>LeaderBoard</title>
{% endblock %} {% block content %} {% if msg %}
<div class="alert alert-danger alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  {{ msg }}
</div>
{% endif %}

<div class="row">
  <div class="col-12 my-3">
      <h1 class="text-center" style="color:white">Leaderboard</h1>
  </div>
</div>
<div>
    <p style="color:white;">Q denotes Qualified.</p>
</div>
    <div class="col-12 my-3" style="background:white;margin-bottom:20px;">
	<table class="table table-striped" style="background:white;">
		<thead>
			<tr>
				<th class="text-center">Rank</th>
				<th class="text-center">Username</th>
				<th class="text-center">Score</th>
				<th class="text-center">Total Time (seconds)</th>
			</tr>
		</thead>
        <tbody>
          {% for object in object_list %}
            {% if not object.is_admin %}
              {% if object.username == username %}
              <tr>
                  {% if object.score >= 450 %}
                    <td class="text-center" ><p class="Qualified">Q {{ forloop.counter }}</p></td>
                    <td class="text-center">
                      <!--{{ object.username }}-->
                      {{ object.get_full_name }}
                      <!--<a href="{% url 'profile' object.username %}">{{ object.username }}</a>-->
                    </td>
                    <td class="text-center">{{ object.score }}</td>
                    <td class="text-center">{{ object.total_time }}</td>
                    {% else %}
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">
                      <!--{{ object.username }}-->
                      {{ object.get_full_name }}
                      <!--<a href="{% url 'profile' object.username %}">{{ object.username }}</a>-->
                    </td>
                    <td class="text-center">{{ object.score }}</td>
                    <td class="text-center">{{ object.total_time }}</td>
                    {% endif %}
              </tr>
              {% else %}
              <tr>
                {% if object.score >= 450 %}
                    <td class="text-center">Q {{ forloop.counter }}</td>
                    <td class="text-center">
                      <!--{{ object.username }}-->
                      {{ object.get_full_name }}
                      <!--<a href="{% url 'profile' object.username %}">{{ object.username }}</a>-->
                    </td>
                    <td class="text-center">{{ object.score }}</td>
                    <td class="text-center">{{ object.total_time }}</td>
                    {% else %}
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">
                      <!--{{ object.username }}-->
                      {{ object.get_full_name }}
                      <!--<a href="{% url 'profile' object.username %}">{{ object.username }}</a>-->
                    </td>
                    <td class="text-center">{{ object.score }}</td>
                    <td class="text-center">{{ object.total_time }}</td>
                    {% endif %}
              </tr>
              {% endif %}
             {% endif %}
          {% endfor %}
        </tbody>
	</table>
</div>
    {% if not object_list %}
    <div class="col-12 mb-4">
      Sign Up to display your name on the leaderboard.
    </div>
    {% endif %}
  <!--</div>-->
<!--</div>-->

<a style="margin-bottom: 20px" href="{% url 'question:list' %}">
  <button type="button" class="btn btn-success">Back To Problems</button>
</a>
<div style="margin-bottom: 20px"></div>

{% endblock %}
